### Preamble

This tool was designed solely with the intention of using it on MacOS. You will find no Windows or Linux support here. I'm not a hater, just primarily an Apple user.

The code was primarily generated by [Claude.ai](https://claude.ai) (Claude 3.5 Sonnet)

### What this tool does

This tool captures a user-defined area of the screen using Apple's built-in screen capture utility `/usr/sbin/screencapture`. Then, using the Apple Vision framework, Japanese text is detected by optical character recognition (OCR). Finally, the text is sent to the clipboard.

This tool can be chained together with other tools like Clipboard Inserter, Yomitan or 10ten Japanese Reader, and a texthooker (i.e. https://anacreondjt.gitlab.io/texthooker.html) for Japanese reading support in a web browser.

### Requirements (or what I assume to be...) 

Apple Silicon: I have used this tool on a MacBook Pro Apple M1 Pro and M2 Mac Mini, both running MacOS Sonoma 14.6.1

Xcode (I had Xcode 16.0 installed)

Permission for terminal.app: "Input Monitoring" and "Screen and System Audio Recording" 

### How to use it

This tool was written in Swift and can be compiled using the Swift compiler from terminal.app (or similar)

```
git clone https://github.com/jamesellinger/screencap_to_clipboardOCR.git
cd screencap_to_clipboardOCR
swiftc screencap_to_clipboardOCR.swift -o screencap_to_clipboardOCR
```

Then either run the tool by typing `./screencap_to_clipboard` or double click the binary in a Finder window (this will open a terminal window).

A camera icon will appear in the status bar at the top of the screen. To take a capture and OCR press `control + command + m` and drag the crosshairs over the area you wish to capture (repeat these steps each time you want to capture and OCR). Output will be displayed in the terminal, and you will be able to paste the text from the clipboard into other apps (for Japanese study I recommend that you chain this with something like Clipboard Inserter). 

You can close the tool either by closing the terminal window or clicking on the camera icon then choosing "Quit".